___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Salesfire GTM Template",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "This GTM template, provides an easy installation of Salesfire onto client\u0027s websites via Google Tag Manager.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "salesfire_site_uuid",
    "displayName": "Salesfire Site ID",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const encodeUriComponent = require('encodeUriComponent');
const injectScript = require('injectScript');

const onSuccess = function() {
  log('Salesfire: Core script loaded successfully.');
  data.gtmOnSuccess();
};

const onFailure = function() {
  log('Salesfire: Core script load failed.');
  data.gtmOnFailure();
};

var site_uuid = (data.salesfire_site_uuid) ? data.salesfire_site_uuid : "";

const gtmCoreWrapperUrl = "https://cdn.salesfire.co.uk/code/" + encodeUriComponent(site_uuid) + ".js";

injectScript(gtmCoreWrapperUrl, onSuccess, onFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.salesfire.co.uk/code/*.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: injectScriptWasSuccessfulWhenCalledWithSiteID
  code: |-
    const mockData = {
      salesfire_site_uuid: '9q62356y-55q9-99t8-5wer-f7844ft02415',
    };

    mock('injectScript', (url, onSuccess, onFailure) => {
      onSuccess();
    });

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('injectScript').wasCalled();
- name: injectScriptFailedWhenCalledWithoutSiteID
  code: |-
    const mockData = {};

    mock('injectScript', (url, onSuccess, onFailure) => {
      onFailure();
    });

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('injectScript').wasCalled();


___NOTES___

Created on 03/08/2021, 16:49:49


